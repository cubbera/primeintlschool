<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assessment Entry – Hybrid Layout</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, sans-serif;
      background:#f5f5f7;
      margin:0; padding:20px;
      color:#111;
    }

    .page-title {
      font-size:22px;
      font-weight:600;
      margin-bottom:8px;
    }

    .page-sub {
      color:#6e6e73;
      font-size:13px;
      margin-bottom:20px;
    }

    .card {
      background:#ffffff;
      border-radius:14px;
      padding:20px;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
      border:1px solid #e3e3e8;
      margin-bottom:24px;
    }

    .section-title {
      font-size:15px;
      font-weight:600;
      margin-bottom:10px;
    }

    .table-wrapper {
      overflow-x:auto;
      border-radius:10px;
      border:1px solid #e3e3e8;
      background:white;
    }

    table {
      width:100%;
      border-collapse:collapse;
      font-size:13px;
      min-width:1100px;
    }

    th, td {
      border-bottom:1px solid #e3e3e8;
      padding:8px;
      text-align:center;
      white-space:nowrap;
    }

    thead {
      background:#f2f2f7;
    }

    tbody tr:nth-child(even) {
      background:#fbfbfd;
    }

    .label-col {
      text-align:left;
      font-weight:600;
      background:white;
      position:sticky;
      left:0;
      z-index:2;
    }

    input.score-box {
      width:60px;
      padding:4px 6px;
      font-size:12px;
      border:1px solid #d1d1d6;
      border-radius:8px;
      text-align:right;
    }

    .readonly {
      font-weight:600;
      color:#0071e3;
    }

    .menu-row {
      display:flex;
      align-items:center;
      gap:10px;
      margin:12px 0;
    }

    .btn-small {
      font-size:12px;
      padding:4px 10px;
      border-radius:999px;
      background:#ffffff;
      border:1px solid #d1d1d6;
      cursor:pointer;
    }

    .btn-small:hover {
      background:#f0f0f5;
    }

    .weight-title {
      font-size:12px;
      color:#6e6e73;
      margin-bottom:6px;
    }

    .section-group {
      margin-bottom:20px;
    }
  </style>
</head>

<body>

  <div class="page-title">Assessment Entry – Hybrid Layout</div>
  <div class="page-sub">Clear grouping: Coursework 60% + Exam 40%, small boxes for input, auto-calculated totals.</div>

  <!-- === CARD START === -->
  <div class="card">
    <div class="section-title">Subject: Mathematics • Class: Year 2 • Term 1</div>

    <!-- ===================================================== -->
    <!-- COURSEWORK 60% SECTION                                -->
    <!-- ===================================================== -->
    <div class="section-group">
      <div class="weight-title">Coursework Weight: 60%</div>

      <div class="menu-row">
        <button class="btn-small" onclick="addColumn('unit')">+ Add Unit Test</button>
        <button class="btn-small" onclick="addColumn('project')">+ Add Project</button>
        <button class="btn-small" onclick="addColumn('presentation')">+ Add Presentation</button>
      </div>
    </div>

    <!-- ===================================================== -->
    <!-- TABLE START                                            -->
    <!-- ===================================================== -->
    <div class="table-wrapper">
      <table id="scoreTable">
        <thead>
          <tr>
            <th class="label-col">Student</th>

            <!-- Coursework Columns -->
            <th class="cw-col">Unit Test 1</th>
            <th class="cw-col">Unit Test 2</th>
            <th class="cw-col">Project</th>
            <th class="cw-col">Presentation</th>

            <th class="readonly">Coursework Total<br>(60%)</th>

            <!-- Exam -->
            <th>Term Exam<br>(40%)</th>

            <th class="readonly">Final Score</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td class="label-col">Zin Aung Hlaing</td>

            <td><input class="score-box" value="8"></td>
            <td><input class="score-box" value="9"></td>
            <td><input class="score-box" value="14"></td>
            <td><input class="score-box" value="9"></td>

            <td class="readonly">36</td>

            <td><input class="score-box" value="53"></td>

            <td class="readonly">91</td>
          </tr>

          <tr>
            <td class="label-col">Phoo Pyae Heather</td>

            <td><input class="score-box" value="7"></td>
            <td><input class="score-box" value="6"></td>
            <td><input class="score-box" value="12"></td>
            <td><input class="score-box" value="7"></td>

            <td class="readonly">30</td>

            <td><input class="score-box" value="43"></td>

            <td class="readonly">77</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
  <!-- === CARD END === -->

  <script>
    function addColumn(type) {
      const table = document.getElementById("scoreTable");
      const headerRow = table.querySelector("thead tr");
      const allRows = table.querySelectorAll("tbody tr");

      let label = "";
      if (type === "unit") label = "Unit Test";
      if (type === "project") label = "Project";
      if (type === "presentation") label = "Presentation";

      // COUNT how many columns of this type exist
      const count = [...headerRow.children].filter(th =>
        th.innerText.includes(label)
      ).length + 1;

      // CREATE NEW HEADER
      const newTH = document.createElement("th");
      newTH.classList.add("cw-col");
      newTH.innerHTML = label + " " + count;
      headerRow.insertBefore(newTH, headerRow.children[headerRow.children.length - 3]);

      // ADD new input cell in each row
      allRows.forEach(row => {
        const td = document.createElement("td");
        td.innerHTML = `<input class="score-box" value="0">`;
        row.insertBefore(td, row.children[row.children.length - 3]);
      });
    }
  </script>

</body>
</html>
