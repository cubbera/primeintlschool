<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tuition Proration & Refund Calculator</title>

<style>
/* =========================
   BASE THEME
========================= */
:root{
  --bg:#f6f7fb;
  --card:#ffffff;
  --line:#e5e7eb;
  --text:#111827;
  --muted:#6b7280;
  --danger:#b91c1c;

  --btn:#111827;
  --btnRefund:#f97316;

  --t1:#2563eb;
  --t2:#059669;
  --t3:#9333ea;
  --off:#9ca3af;
}

*{box-sizing:border-box}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size:12px;
  line-height:1.35;
}

.page{
  max-width:980px;
  margin:16px auto;
  padding:0 14px 24px;
}

/* =========================
   TITLE
========================= */
.titlebar{
  margin-bottom:10px;
}
h1{
  margin:0;
  font-size:16px;
}
.subtitle{
  margin:0;
  color:var(--muted);
  font-size:12px;
}

/* =========================
   CARD
========================= */
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px;
  box-shadow: 0 10px 22px rgba(17,24,39,.06);
}

/* =========================
   FORM LINES
========================= */
.line{
  display:grid;
  grid-template-columns:auto 16px 1fr;
  align-items:center;
  column-gap:10px;
  margin:6px 0;
}

.lhs{
  font-weight:800;
  white-space:nowrap;
}
.eq{
  text-align:center;
  font-weight:900;
  color:var(--muted);
}
.rhs{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}

input{
  font-size:12px;
  padding:6px 8px;
  border:1px solid var(--line);
  border-radius:10px;
  background:#fff;
}

.moneyIn{
  width:190px;
  font-weight:900;
  text-align:right;
}

.discIn{
  width:190px;
  font-weight:900;
  text-align:right;
  color:var(--danger);
}

.tag{
  padding:2px 9px;
  border-radius:999px;
  border:1px solid var(--line);
  background:#f3f4f6;
  font-weight:900;
}

.out{
  font-size:14px;
  font-weight:1000;
}

.btnRow{
  margin-top:6px;
  display:flex;
  gap:8px;
}

button{
  appearance:none;
  border:1px solid var(--btn);
  background:var(--btn);
  color:#fff;
  font-size:12px;
  font-weight:1000;
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
}

button.secondary{
  background:#fff;
  color:var(--btn);
  border:1px solid var(--line);
}

button.refund{
  background:var(--btnRefund);
  border-color:var(--btnRefund);
}

/* =========================
   STEPS
========================= */
.steps{
  margin-top:10px;
  padding:10px;
  border:1px dashed var(--line);
  border-radius:12px;
  background:#fafafa;
}
.steps h3{
  margin:0 0 6px;
  font-size:12px;
}
.steps pre{
  margin:0;
  white-space:pre-wrap;
  font-family: ui-monospace, monospace;
  font-size:11px;
}

/* =========================
   REFERENCE
========================= */
.ref{
  margin-top:14px;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px;
}

.ref h2{
  margin:0 0 6px;
  font-size:13px;
}

.hidden{display:none!important}

table{
  width:100%;
  border-collapse:collapse;
  font-size:11px;
}
th,td{
  border:1px solid var(--line);
  padding:6px;
  text-align:center;
}
th{
  background:#fafafa;
  font-weight:900;
}

/* =========================
   MONTH COLORS
========================= */
.monthBlock{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.months{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}

.m{
  min-width:54px;
  padding:4px 6px;
  border-radius:10px;
  color:#fff;
  font-weight:900;
  font-size:11px;
  text-align:center;
}

.t1{background:var(--t1)}
.t2{background:var(--t2)}
.t3{background:var(--t3)}
.off{background:var(--off)}
</style>
</head>

<body>
<div class="page">

  <div class="titlebar">
    <h1>Tuition Proration & Refund Calculator</h1>
    <p class="subtitle">Proration: BASE ÷ 10 × months attend | Refund: FINAL ÷ months × unused term months</p>
  </div>

  <!-- =========================
       MAIN CALC CARD
  ========================= -->
  <div class="card">

    <div class="line">
      <div class="lhs">BASE tuition fee</div>
      <div class="eq">=</div>
      <div class="rhs">
        <input id="baseFee" class="moneyIn" value="10,000,000">
      </div>
    </div>

    <div class="line">
      <div class="lhs">Join date</div>
      <div class="eq">=</div>
      <div class="rhs">
        <input type="date" id="joinDate">
        <span class="tag" id="joinTermTag">[Academic Year - Term]</span>
      </div>
    </div>

    <div class="line">
      <div class="lhs">Tuition Fee before discount</div>
      <div class="eq">=</div>
      <div class="rhs">
        <span class="out" id="proratedFee">0</span>
        <span class="tag" id="monthsAttendTag">[0 months]</span>
      </div>
    </div>

    <div class="line">
      <div class="lhs">Discount #1</div>
      <div class="eq">=</div>
      <div class="rhs">
        <input id="disc1" class="discIn" value="-100,000">
      </div>
    </div>

    <div class="line">
      <div class="lhs">Discount #2</div>
      <div class="eq">=</div>
      <div class="rhs">
        <input id="disc2" class="discIn" value="-50,000">
      </div>
    </div>

    <div class="btnRow">
      <button id="calcFinalBtn">Calculate Final Amount</button>
    </div>

    <div class="line">
      <div class="lhs">FINAL Tuition Fee</div>
      <div class="eq">=</div>
      <div class="rhs">
        <span class="out" id="finalFee">0</span>
      </div>
    </div>

    <br><br>

    <div class="line">
      <div class="lhs">Leave date</div>
      <div class="eq">=</div>
      <div class="rhs">
        <input type="date" id="leaveDate">
        <span class="tag" id="leaveTermTag">[Academic Year - Term]</span>
      </div>
    </div>

    <div class="btnRow">
      <button class="refund" id="calcRefundBtn">Calculate Refund</button>
    </div>

    <div class="line">
      <div class="lhs">Refundable amount</div>
      <div class="eq">=</div>
      <div class="rhs">
        <span class="out" id="refundAmount">0</span>
        <span class="tag" id="refundMeta">[0 terms, 0 months]</span>
      </div>
    </div>

    <div class="steps">
      <h3>Step-by-step calculation</h3>
      <pre id="stepsText">Select Join date → Calculate Final → Select Leave date → Calculate Refund</pre>
    </div>

  </div>

  <!-- =========================
       REFERENCE
  ========================= -->
  <div class="ref">

    <!-- TOGGLE 1 -->
    <button class="secondary" id="toggleTermsBtn">Hide</button>
    <h2>Reference Calendar 1 — Term Table</h2>

    <div id="termsRefBody">
      <table>
        <tr><th>AY</th><th>Term</th><th>Start</th><th>End</th><th>Months</th></tr>
        <tr><td rowspan="3">AY2025-2026</td><td>T1</td><td>2025-06-10</td><td>2025-08-29</td><td>3</td></tr>
        <tr><td>T2</td><td>2025-09-01</td><td>2025-11-28</td><td>3</td></tr>
        <tr><td>T3</td><td>2025-12-01</td><td>2026-04-03</td><td>4</td></tr>

        <tr><td rowspan="3">AY2026-2027</td><td>T1</td><td>2026-06-16</td><td>2026-09-04</td><td>3</td></tr>
        <tr><td>T2</td><td>2026-09-07</td><td>2026-12-18</td><td>3</td></tr>
        <tr><td>T3</td><td>2027-01-05</td><td>2027-03-31</td><td>4</td></tr>
      </table>
    </div>

    <br>

    <!-- TOGGLE 2 -->
    <button class="secondary" id="toggleMonthsBtn">Hide</button>
    <h2>Reference Calendar 2 — Month View</h2>

    <div id="monthsRefBody" class="monthBlock">
      <div class="months">
        <span class="m t1">Jun 25</span><span class="m t1">Jul</span><span class="m t1">Aug</span>
        <span class="m t2">Sep</span><span class="m t2">Oct</span><span class="m t2">Nov</span>
        <span class="m t3">Dec</span><span class="m t3">Jan 26</span>
        <span class="m t3">Feb</span><span class="m t3">Mar</span><span class="m t3">Apr</span>
        <span class="m off">May</span>
      </div>

      <div class="months">
        <span class="m t1">Jun 26</span><span class="m t1">Jul</span><span class="m t1">Aug</span>
        <span class="m t2">Sep</span><span class="m t2">Oct</span><span class="m t2">Nov</span>
        <span class="m t2">Dec</span>
        <span class="m t3">Jan 27</span><span class="m t3">Feb</span><span class="m t3">Mar</span>
        <span class="m off">Apr</span><span class="m off">May</span>
      </div>
    </div>

  </div>

</div>

<script>
/* ========= TOGGLE LOGIC (ONLY CHANGE REQUESTED) ========= */
document.getElementById("toggleTermsBtn").onclick = ()=>{
  const b = document.getElementById("termsRefBody");
  b.classList.toggle("hidden");
  event.target.textContent = b.classList.contains("hidden") ? "Show" : "Hide";
};

document.getElementById("toggleMonthsBtn").onclick = ()=>{
  const b = document.getElementById("monthsRefBody");
  b.classList.toggle("hidden");
  event.target.textContent = b.classList.contains("hidden") ? "Show" : "Hide";
};
</script>

</body>
</html>
